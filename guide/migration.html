

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Migration Guide &mdash; django-filter 2.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FilterSet Options" href="../ref/filterset.html" />
    <link rel="prev" title="Tips and Solutions" href="tips.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> django-filter
          

          
          </a>

          
            
            
              <div class="version">
                2.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="rest_framework.html">Integration with DRF</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">Tips and Solutions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Migration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#enabling-warnings">Enabling warnings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migrating-to-2-0">Migrating to 2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#filter-lookup-expr-list-form-removed-851"><code class="docutils literal notranslate"><span class="pre">Filter.lookup_expr</span></code> list form removed (#851)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filterset-filter-for-reverse-field-removed-915">FilterSet <code class="docutils literal notranslate"><span class="pre">filter_for_reverse_field</span></code> removed (#915)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-attributes-renamed-867">View attributes renamed (#867)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filterset-meta-together-option-removed-791">FilterSet <code class="docutils literal notranslate"><span class="pre">Meta.together</span></code> option removed (#791)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filterset-strictness-handling-moved-to-view-788">FilterSet “strictness” handling moved to view (#788)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-name-renamed-to-filter-field-name-792"><code class="docutils literal notranslate"><span class="pre">Filter.name</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">Filter.field_name</span></code> (#792)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-widget-and-filter-required-removed-734"><code class="docutils literal notranslate"><span class="pre">Filter.widget</span></code> and <code class="docutils literal notranslate"><span class="pre">Filter.required</span></code> removed (#734)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multiwidget-replaced-by-suffixedmultiwidget-770"><code class="docutils literal notranslate"><span class="pre">MultiWidget</span></code> replaced by <code class="docutils literal notranslate"><span class="pre">SuffixedMultiWidget</span></code> (#770)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filters-like-rangefilter-daterangefilter-datetimefromtorangefilter-770">Filters like <code class="docutils literal notranslate"><span class="pre">RangeFilter,</span> <span class="pre">DateRangeFilter,</span> <span class="pre">DateTimeFromToRangeFilter...</span></code> (#770)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#migrating-to-1-0">Migrating to 1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#methodfilter-and-filter-action-replaced-by-filter-method-382">MethodFilter and Filter.action replaced by Filter.method (#382)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#queryset-methods-are-no-longer-proxied-440">QuerySet methods are no longer proxied (#440)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filters-no-longer-autogenerated-when-meta-fields-is-not-specified-450">Filters no longer autogenerated when Meta.fields is not specified (#450)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#move-filterset-options-to-meta-class-430">Move FilterSet options to Meta class (#430)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filterset-ordering-replaced-by-orderingfilter-472">FilterSet ordering replaced by OrderingFilter (#472)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated-filters-help-text-filter-and-filters-help-text-exclude-437">Deprecated <code class="docutils literal notranslate"><span class="pre">FILTERS_HELP_TEXT_FILTER</span></code> and <code class="docutils literal notranslate"><span class="pre">FILTERS_HELP_TEXT_EXCLUDE</span></code> (#437)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drf-filter-backend-raises-templatedoesnotexist-exception-562">DRF filter backend raises <code class="docutils literal notranslate"><span class="pre">TemplateDoesNotExist</span></code> exception (#562)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Reference Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ref/filterset.html">FilterSet Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/filters.html">Filter Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/fields.html">Field Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/groups.html">Group Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/widgets.html">Widget Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ref/settings.html">Settings Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/tests.html">Running the Test Suite</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">django-filter</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Migration Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/guide/migration.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="migration-guide">
<h1>Migration Guide<a class="headerlink" href="#migration-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="enabling-warnings">
<h2>Enabling warnings<a class="headerlink" href="#enabling-warnings" title="Permalink to this headline">¶</a></h2>
<p>To view deprecations, you may need to enable warnings within python. This
can be achieved with either the <code class="docutils literal notranslate"><span class="pre">-W</span></code> <a class="reference external" href="https://docs.python.org/3.6/using/cmdline.html#cmdoption-W">flag</a>, or with  <code class="docutils literal notranslate"><span class="pre">PYTHONWARNINGS</span></code>
<a class="reference external" href="https://docs.python.org/3.6/using/cmdline.html#envvar-PYTHONWARNINGS">environment variable</a>. For example, you could run your test suite like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -W once manage.py <span class="nb">test</span>
</pre></div>
</div>
<p>The above would print all warnings once when they first occur. This is useful
to know what violations exist in your code (or occasionally in third party
code). However, it only prints the last line of the stack trace. You can use
the following to raise the full exception instead:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python -W error manage.py <span class="nb">test</span>
</pre></div>
</div>
</div>
<div class="section" id="migrating-to-2-0">
<h2>Migrating to 2.0<a class="headerlink" href="#migrating-to-2-0" title="Permalink to this headline">¶</a></h2>
<p>This release contains several changes that break forwards compatibility. This
includes removed features, renamed attributes and arguments, and some reworked
features. Due to the nature of these changes, it is not feasible to release
a fully forwards-compatible migration release. Please review the below list of
changes and update your code accordingly.</p>
<div class="section" id="filter-lookup-expr-list-form-removed-851">
<h3><code class="docutils literal notranslate"><span class="pre">Filter.lookup_expr</span></code> list form removed (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/851">#851</a>)<a class="headerlink" href="#filter-lookup-expr-list-form-removed-851" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Filter.lookup_expr</span></code> argument no longer accepts <code class="docutils literal notranslate"><span class="pre">None</span></code> or a list of
expressions. Use the <a class="reference internal" href="../ref/filters.html#lookup-choice-filter"><span class="std std-ref">LookupChoiceFilter</span></a> instead.</p>
</div>
<div class="section" id="filterset-filter-for-reverse-field-removed-915">
<h3>FilterSet <code class="docutils literal notranslate"><span class="pre">filter_for_reverse_field</span></code> removed (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/915">#915</a>)<a class="headerlink" href="#filterset-filter-for-reverse-field-removed-915" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">filter_for_field</span></code> method now generates filters for reverse relationships,
removing  the need for <code class="docutils literal notranslate"><span class="pre">filter_for_reverse_field</span></code>. As a result, reverse
relationships now also obey <code class="docutils literal notranslate"><span class="pre">Meta.filter_overrides</span></code>.</p>
</div>
<div class="section" id="view-attributes-renamed-867">
<h3>View attributes renamed (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/867">#867</a>)<a class="headerlink" href="#view-attributes-renamed-867" title="Permalink to this headline">¶</a></h3>
<p>Several view-related attributes have been renamed to improve consistency with
other parts of the library. The following classes are affected:</p>
<ul class="simple">
<li><p>DRF <code class="docutils literal notranslate"><span class="pre">ViewSet.filter_class</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">filterset_class</span></code></p></li>
<li><p>DRF <code class="docutils literal notranslate"><span class="pre">ViewSet.filter_fields</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">filterset_fields</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DjangoFilterBackend.default_filter_set</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">filterset_base</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DjangoFilterBackend.get_filter_class()</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">get_filterset_class()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FilterMixin.filter_fields</span></code> =&gt; <code class="docutils literal notranslate"><span class="pre">filterset_fields</span></code></p></li>
</ul>
</div>
<div class="section" id="filterset-meta-together-option-removed-791">
<h3>FilterSet <code class="docutils literal notranslate"><span class="pre">Meta.together</span></code> option removed (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/791">#791</a>)<a class="headerlink" href="#filterset-meta-together-option-removed-791" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Meta.together</span></code> has been deprecated in favor of userland implementations
that override the <code class="docutils literal notranslate"><span class="pre">clean</span></code> method of the <code class="docutils literal notranslate"><span class="pre">Meta.form</span></code> class. An example will
be provided in a “recipes” section in future docs.</p>
</div>
<div class="section" id="filterset-strictness-handling-moved-to-view-788">
<h3>FilterSet “strictness” handling moved to view (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/788">#788</a>)<a class="headerlink" href="#filterset-strictness-handling-moved-to-view-788" title="Permalink to this headline">¶</a></h3>
<p>Strictness handling has been removed from the <code class="docutils literal notranslate"><span class="pre">FilterSet</span></code> and added to the
view layer. As a result, the <code class="docutils literal notranslate"><span class="pre">FILTERS_STRICTNESS</span></code> setting, <code class="docutils literal notranslate"><span class="pre">Meta.strict</span></code>
option, and <code class="docutils literal notranslate"><span class="pre">strict</span></code> argument for the <code class="docutils literal notranslate"><span class="pre">FilterSet</span></code> initializer have all
been removed.</p>
<p>To alter strictness behavior, the appropriate view code should be overridden.
More details will be provided in future docs.</p>
</div>
<div class="section" id="filter-name-renamed-to-filter-field-name-792">
<h3><code class="docutils literal notranslate"><span class="pre">Filter.name</span></code> renamed to <code class="docutils literal notranslate"><span class="pre">Filter.field_name</span></code> (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/792">#792</a>)<a class="headerlink" href="#filter-name-renamed-to-filter-field-name-792" title="Permalink to this headline">¶</a></h3>
<p>The filter <code class="docutils literal notranslate"><span class="pre">name</span></code> has been renamed to <code class="docutils literal notranslate"><span class="pre">field_name</span></code> as a way to disambiguate
the filter’s attribute name on its FilterSet class from the <code class="docutils literal notranslate"><span class="pre">field_name</span></code> used
for filtering purposes.</p>
</div>
<div class="section" id="filter-widget-and-filter-required-removed-734">
<h3><code class="docutils literal notranslate"><span class="pre">Filter.widget</span></code> and <code class="docutils literal notranslate"><span class="pre">Filter.required</span></code> removed (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/734">#734</a>)<a class="headerlink" href="#filter-widget-and-filter-required-removed-734" title="Permalink to this headline">¶</a></h3>
<p>The filter class no longer directly stores arguments passed to its form field.
All arguments are located in the filter’s <code class="docutils literal notranslate"><span class="pre">.extra</span></code> dict.</p>
</div>
<div class="section" id="multiwidget-replaced-by-suffixedmultiwidget-770">
<h3><code class="docutils literal notranslate"><span class="pre">MultiWidget</span></code> replaced by <code class="docutils literal notranslate"><span class="pre">SuffixedMultiWidget</span></code> (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/770">#770</a>)<a class="headerlink" href="#multiwidget-replaced-by-suffixedmultiwidget-770" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">RangeWidget</span></code>, <code class="docutils literal notranslate"><span class="pre">DateRangeWidget</span></code>, and <code class="docutils literal notranslate"><span class="pre">LookupTypeWidget</span></code> now inherit from
<code class="docutils literal notranslate"><span class="pre">SuffixedMultiWidget</span></code>, changing the suffixes of their query param names. For
example, <code class="docutils literal notranslate"><span class="pre">RangeWidget</span></code> now has <code class="docutils literal notranslate"><span class="pre">_min</span></code> and <code class="docutils literal notranslate"><span class="pre">_max</span></code> suffixes instead of
<code class="docutils literal notranslate"><span class="pre">_0</span></code> and <code class="docutils literal notranslate"><span class="pre">_1</span></code>.</p>
</div>
<div class="section" id="filters-like-rangefilter-daterangefilter-datetimefromtorangefilter-770">
<h3>Filters like <code class="docutils literal notranslate"><span class="pre">RangeFilter,</span> <span class="pre">DateRangeFilter,</span> <span class="pre">DateTimeFromToRangeFilter...</span></code> (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/770">#770</a>)<a class="headerlink" href="#filters-like-rangefilter-daterangefilter-datetimefromtorangefilter-770" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>As they depend on <code class="docutils literal notranslate"><span class="pre">MultiWidget</span></code>, they need to be adjusted. In 1.0 release</dt><dd><p>parameters were provided using <code class="docutils literal notranslate"><span class="pre">_0</span></code> and <code class="docutils literal notranslate"><span class="pre">_1</span></code> as suffix``. For example,
a parameter <code class="docutils literal notranslate"><span class="pre">creation_date</span></code> using``DateRangeFilter`` will expect
<code class="docutils literal notranslate"><span class="pre">creation_date_after</span></code> and <code class="docutils literal notranslate"><span class="pre">creation_date_before</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">creation_date_0</span></code> and <code class="docutils literal notranslate"><span class="pre">creation_date_1</span></code>.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="migrating-to-1-0">
<h2>Migrating to 1.0<a class="headerlink" href="#migrating-to-1-0" title="Permalink to this headline">¶</a></h2>
<p>The 1.0 release of django-filter introduces several API changes and refinements
that break forwards compatibility. Below is a list of deprecations and
instructions on how to migrate to the 1.0 release. A forwards-compatible 0.15
release has also been created to help with migration. It is compatible with
both the existing and new APIs and will raise warnings for deprecated behavior.</p>
<div class="section" id="methodfilter-and-filter-action-replaced-by-filter-method-382">
<h3>MethodFilter and Filter.action replaced by Filter.method (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/382">#382</a>)<a class="headerlink" href="#methodfilter-and-filter-action-replaced-by-filter-method-382" title="Permalink to this headline">¶</a></h3>
<p>The functionality of <code class="docutils literal notranslate"><span class="pre">MethodFilter</span></code> and <code class="docutils literal notranslate"><span class="pre">Filter.action</span></code> has been merged
together and replaced by the <code class="docutils literal notranslate"><span class="pre">Filter.method</span></code> parameter. The <code class="docutils literal notranslate"><span class="pre">method</span></code>
parameter takes either a callable or the name of a <code class="docutils literal notranslate"><span class="pre">FilterSet</span></code> method. The
signature now takes an additional <code class="docutils literal notranslate"><span class="pre">name</span></code> argument that is the name of the
model field to be filtered on.</p>
<p>Since <code class="docutils literal notranslate"><span class="pre">method</span></code> is now a parameter of all filters, inputs are validated and
cleaned by its <code class="docutils literal notranslate"><span class="pre">field_class</span></code>. The function will receive the cleaned value
instead of the raw value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 0.x</span>
<span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="n">last_login</span> <span class="o">=</span> <span class="n">filters</span><span class="o">.</span><span class="n">MethodFilter</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">filter_last_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qs</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="c1"># try to convert value to datetime, which may fail.</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">and</span> <span class="n">looks_like_a_date</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">qs</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">last_login</span><span class="o">=</span><span class="n">value</span><span class="p">})</span>


<span class="c1"># 1.0</span>
<span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="n">last_login</span> <span class="o">=</span> <span class="n">filters</span><span class="o">.</span><span class="n">CharFilter</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;filter_last_login&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">filter_last_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qs</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">qs</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">value</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="queryset-methods-are-no-longer-proxied-440">
<h3>QuerySet methods are no longer proxied (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/440">#440</a>)<a class="headerlink" href="#queryset-methods-are-no-longer-proxied-440" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__len__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code>, <code class="docutils literal notranslate"><span class="pre">count()</span></code> methods are
no longer proxied from the queryset. To fix this, call the methods on the
<code class="docutils literal notranslate"><span class="pre">.qs</span></code> property itself.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">UserFilter</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">,</span> <span class="n">queryset</span><span class="o">=</span><span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">())</span>

<span class="c1"># 0.x</span>
<span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
    <span class="o">...</span>

<span class="c1"># 1.0</span>
<span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">qs</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="filters-no-longer-autogenerated-when-meta-fields-is-not-specified-450">
<h3>Filters no longer autogenerated when Meta.fields is not specified (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/450">#450</a>)<a class="headerlink" href="#filters-no-longer-autogenerated-when-meta-fields-is-not-specified-450" title="Permalink to this headline">¶</a></h3>
<p>FilterSets had an undocumented behavior of autogenerating filters for all
model fields when either <code class="docutils literal notranslate"><span class="pre">Meta.fields</span></code> was not specified or when set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>. This can lead to potentially unsafe data or schema exposure and
has been deprecated in favor of explicitly setting <code class="docutils literal notranslate"><span class="pre">Meta.fields</span></code> to the
<code class="docutils literal notranslate"><span class="pre">'__all__'</span></code> special value. You may also blacklist fields by setting
the <code class="docutils literal notranslate"><span class="pre">Meta.exclude</span></code> attribute.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="s1">&#39;__all__&#39;</span>

<span class="c1"># or</span>
<span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>
        <span class="n">exclude</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;password&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="move-filterset-options-to-meta-class-430">
<h3>Move FilterSet options to Meta class (<a class="reference external" href="https://github.com/carltongibson/django-filter/issues/430">#430</a>)<a class="headerlink" href="#move-filterset-options-to-meta-class-430" title="Permalink to this headline">¶</a></h3>
<p>Several <code class="docutils literal notranslate"><span class="pre">FilterSet</span></code> options have been moved to the <code class="docutils literal notranslate"><span class="pre">Meta</span></code> class to prevent
potential conflicts with declared filter names. This includes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">filter_overrides</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">order_by_field</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># 0.x</span>
<span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="n">filter_overrides</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">strict</span> <span class="o">=</span> <span class="n">STRICTNESS</span><span class="o">.</span><span class="n">RAISE_VALIDATION_ERROR</span>
    <span class="n">order_by_field</span> <span class="o">=</span> <span class="s1">&#39;order&#39;</span>
    <span class="o">...</span>

<span class="c1"># 1.0</span>
<span class="k">class</span> <span class="nc">UserFilter</span><span class="p">(</span><span class="n">FilterSet</span><span class="p">):</span>
    <span class="o">...</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">filter_overrides</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">strict</span> <span class="o">=</span> <span class="n">STRICTNESS</span><span class="o">.</span><span class="n">RAISE_VALIDATION_ERROR</span>
        <span class="n">order_by_field</span> <span class="o">=</span> <span class="s1">&#39;order&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="filterset-ordering-replaced-by-orderingfilter-472">
<h3>FilterSet ordering replaced by OrderingFilter (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/472">#472</a>)<a class="headerlink" href="#filterset-ordering-replaced-by-orderingfilter-472" title="Permalink to this headline">¶</a></h3>
<p>The FilterSet ordering options and methods have been deprecated and replaced
by <a class="reference internal" href="../ref/filters.html#ordering-filter"><span class="std std-ref">OrderingFilter</span></a>. Deprecated options include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Meta.order_by</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Meta.order_by_field</span></code></p></li>
</ul>
<p>These options retain backwards compatibility with the following caveats:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">order_by</span></code> asserts that <code class="docutils literal notranslate"><span class="pre">Meta.fields</span></code> is not using the dict syntax. This
previously was undefined behavior, however the migration code is unable to
support it.</p></li>
<li><p>Prior, if no ordering was specified in the request, the FilterSet implicitly
filtered by the first param in the <code class="docutils literal notranslate"><span class="pre">order_by</span></code> option. This behavior cannot
be easily emulated but can be fixed by ensuring that the passed in queryset
explicitly calls <code class="docutils literal notranslate"><span class="pre">.order_by()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">filterset</span> <span class="o">=</span> <span class="n">MyFilterSet</span><span class="p">(</span><span class="n">queryset</span><span class="o">=</span><span class="n">MyModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;field&#39;</span><span class="p">))</span>
</pre></div>
</div>
</li>
</ul>
<p>The following methods are deprecated and will raise an assertion if present
on the FilterSet:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.get_order_by()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.get_ordering_field()</span></code></p></li>
</ul>
<p>To fix this, simply remove the methods from your class. You can subclass
<code class="docutils literal notranslate"><span class="pre">OrderingFilter</span></code> to migrate any custom logic.</p>
</div>
<div class="section" id="deprecated-filters-help-text-filter-and-filters-help-text-exclude-437">
<h3>Deprecated <code class="docutils literal notranslate"><span class="pre">FILTERS_HELP_TEXT_FILTER</span></code> and <code class="docutils literal notranslate"><span class="pre">FILTERS_HELP_TEXT_EXCLUDE</span></code> (<a class="reference external" href="https://github.com/carltongibson/django-filter/pull/437">#437</a>)<a class="headerlink" href="#deprecated-filters-help-text-filter-and-filters-help-text-exclude-437" title="Permalink to this headline">¶</a></h3>
<p>Generated filter labels in 1.0 will be more descriptive, including humanized
text about the lookup being performed and if the filter is an exclusion filter.</p>
<p>These settings will no longer have an effect and will be removed in the 1.0 release.</p>
</div>
<div class="section" id="drf-filter-backend-raises-templatedoesnotexist-exception-562">
<h3>DRF filter backend raises <code class="docutils literal notranslate"><span class="pre">TemplateDoesNotExist</span></code> exception (<a class="reference external" href="https://github.com/carltongibson/django-filter/issues/562">#562</a>)<a class="headerlink" href="#drf-filter-backend-raises-templatedoesnotexist-exception-562" title="Permalink to this headline">¶</a></h3>
<p>Templates are now provided by django-filter. If you are receiving this error,
you may need to add <code class="docutils literal notranslate"><span class="pre">'django_filters'</span></code> to your <code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code> setting.
Alternatively, you could provide your own templates.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ref/filterset.html" class="btn btn-neutral float-right" title="FilterSet Options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tips.html" class="btn btn-neutral float-left" title="Tips and Solutions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Alex Gaynor, Carlton Gibson and others.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>